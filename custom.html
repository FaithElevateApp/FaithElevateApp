<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Faith Elevate App</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    .custom-challenge-form label { display:block; margin-top:12px; font-weight:600;}
    .custom-challenge-form input, .custom-challenge-form textarea {
      width:100%; margin-top:4px; background:#16213a; color:#f8fafc; border:1px solid #334155; border-radius:4px; padding:6px;
    }
    .custom-challenge-form button {
      margin-top:16px; padding:8px 18px; border-radius:6px; background:#38bdf8; color:#0f172a; font-weight:bold; border:none; cursor:pointer;
    }
    .personal-challenge-list {
      margin: 30px 0 40px 0;
      background: #1e293b;
      border-radius: 10px;
      padding: 18px 20px;
      color: #f8fafc;
    }
    .personal-challenge-list h3 { color:#38bdf8; }
    .personal-challenge-block {
      background: #16213a;
      border-radius: 8px;
      margin-bottom: 18px;
      padding: 14px 16px;
    }
    .personal-challenge-block ul { margin: 0 0 0 18px; }
    .personal-challenge-block li { margin-bottom: 4px; }
  </style>
</head>
<body>
  <header>
    <h1>Faith Elevate</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="#">Features</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div class="dashboard-panel">
    <a href="Home.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-calendar-check"></i>
      <span class="dashboard-label">Daily Challenges</span>
    </a>
    <a href="library.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-book-open"></i>
      <span class="dashboard-label">Challenge Library</span>
    </a>
    <a href="progress.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-chart-line"></i>
      <span class="dashboard-label">Progress Tracker & Streaks</span>
    </a>
    <a href="reflections.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-pen-fancy"></i>
      <span class="dashboard-label">Reflections</span>
    </a>
    <a href="VOD.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-bible"></i>
      <span class="dashboard-label">Verse of the Day & Meditation</span>
    </a>
    
    <a href="chalShare.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-share-nodes"></i>
      <span class="dashboard-label">Challenge Sharing</span>
    </a>
    <a href="custom.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-wand-magic-sparkles"></i>
      <span class="dashboard-label">Custom Challenge Creator</span>
    </a>
    <a href="archive.html" class="dashboard-icon" tabindex="0" style="text-decoration:none;">
      <i class="fa-solid fa-trophy"></i>
      <span class="dashboard-label">Achievements & Rewards</span>
    </a>
    
  </div>

  <main style="max-width:900px;margin:30px auto 40px auto;">
    <div class="page-section">
      <h2>ðŸ›  Custom Challenge Creator</h2>
      <form class="custom-challenge-form" id="custom-challenge-form">
        <label for="custom-title">Challenge Title:</label>
        <input type="text" id="custom-title" required>

        <label for="custom-purpose">Purpose:</label>
        <textarea rows="2" id="custom-purpose" required></textarea>

        <label for="custom-benefit">Benefit:</label>
        <textarea rows="2" id="custom-benefit" required></textarea>

        <label for="custom-scriptures">Scriptures (one per line, format: Reference - Text):</label>
        <textarea rows="3" id="custom-scriptures" placeholder="e.g. John 3:16 - For God so loved the world..." required></textarea>

        <label for="custom-practice">Daily Practice Guide (one per line):</label>
        <textarea rows="3" id="custom-practice" required></textarea>

        <label for="custom-reflection">Reflection Prompts (one per line):</label>
        <textarea rows="3" id="custom-reflection" required></textarea>

        <button type="submit">Create Challenge</button>
      </form>
    </div>

    <div class="personal-challenge-list" id="personal-challenge-list">
      <h3>My Personal Challenges List</h3>
      <!-- Personal challenges will be rendered here -->
    </div>
  </main>

  <footer>
    <div class="social-icons">
      <a href="#"><i class="fab fa-facebook-f"></i><span> Facebook</span></a>
      <a href="#"><i class="fab fa-instagram"></i><span> Instagram</span></a>
      <a href="#"><i class="fab fa-twitter"></i><span> Twitter</span></a>
      <a href="#"><i class="fab fa-youtube"></i><span> YouTube</span></a>
    </div>
    <p>&copy; 2025 Faith Elevate. All rights reserved.</p>
  </footer>
  <script>
    // LocalStorage key for personal challenges
    const PERSONAL_CHALLENGES_KEY = "personal-challenges";

    function getPersonalChallenges() {
      return JSON.parse(localStorage.getItem(PERSONAL_CHALLENGES_KEY) || "[]");
    }
    function savePersonalChallenges(list) {
      localStorage.setItem(PERSONAL_CHALLENGES_KEY, JSON.stringify(list));
    }

    function renderPersonalChallenges() {
      const list = getPersonalChallenges();
      const container = document.getElementById('personal-challenge-list');
      if (!list.length) {
        container.innerHTML = `<h3>My Personal Challenges List</h3><p style="color:#fbbf24;">No personal challenges yet. Create one above!</p>`;
        return;
      }
      let html = `<h3>My Personal Challenges List</h3>`;
      list.forEach((ch, idx) => {
        html += `
          <div class="personal-challenge-block">
            <strong>Title:</strong> ${ch.title}<br>
            <strong>Purpose:</strong> ${ch.purpose}<br>
            <strong>Benefit:</strong> ${ch.benefit}<br>
            <strong>Scriptures:</strong>
            <ul>
              ${ch.scriptures.map(s => `<li>${s}</li>`).join('')}
            </ul>
            <strong>Daily Practice Guide:</strong>
            <ul>
              ${ch.practice.map(p => `<li>${p}</li>`).join('')}
            </ul>
            <strong>Reflection Prompts:</strong>
            <ul>
              ${ch.reflection.map(r => `<li>${r}</li>`).join('')}
            </ul>
            <button onclick="deletePersonalChallenge(${idx})" style="background:#ef4444;color:#fff;border:none;padding:4px 10px;border-radius:4px;cursor:pointer;margin-top:8px;">Delete</button>
          </div>
        `;
      });
      container.innerHTML = html;
    }

    function deletePersonalChallenge(idx) {
      const list = getPersonalChallenges();
      list.splice(idx, 1);
      savePersonalChallenges(list);
      renderPersonalChallenges();
    }
    window.deletePersonalChallenge = deletePersonalChallenge;

    document.getElementById('custom-challenge-form').onsubmit = function(e) {
      e.preventDefault();
      const title = document.getElementById('custom-title').value.trim();
      const purpose = document.getElementById('custom-purpose').value.trim();
      const benefit = document.getElementById('custom-benefit').value.trim();
      const scriptures = document.getElementById('custom-scriptures').value.trim().split('\n').filter(Boolean);
      const practice = document.getElementById('custom-practice').value.trim().split('\n').filter(Boolean);
      const reflection = document.getElementById('custom-reflection').value.trim().split('\n').filter(Boolean);

      if (!title || !purpose || !benefit || !scriptures.length || !practice.length || !reflection.length) {
        alert("Please fill in all fields.");
        return;
      }

      const newChallenge = {
        title, purpose, benefit, scriptures, practice, reflection
      };
      const list = getPersonalChallenges();
      list.push(newChallenge);
      savePersonalChallenges(list);
      renderPersonalChallenges();
      this.reset();
      alert("Your custom challenge has been created!");
    };

    document.addEventListener('DOMContentLoaded', renderPersonalChallenges);
  </script>
</body>
</html>